!function(e){function n(n){for(var o,a,c=n[0],l=n[1],s=n[2],p=0,d=[];p<c.length;p++)a=c[p],r[a]&&d.push(r[a][0]),r[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(n);d.length;)d.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,c=1;c<t.length;c++){var l=t[c];0!==r[l]&&(o=!1)}o&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},r={0:0},i=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=n,c=c.slice();for(var s=0;s<c.length;s++)n(c[s]);var u=l;i.push([264,1]),t()}({264:function(e,n,t){t(540),e.exports=t(532)},532:function(e,n,t){var o=t(533);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(538)(o,r);o.locals&&(e.exports=o.locals)},533:function(e,n,t){(n=e.exports=t(70)(!1)).i(t(534),""),n.i(t(535),""),n.i(t(536),""),n.i(t(537),""),n.push([e.i,"/* ----------- Header ---------- */\nheader {\n    width: 100%;\n    height: 55px;\n    background-color: #7BCEFF;\n    box-shadow: 0 5px 5px #dbdbdb;\n    z-index: 10;\n    position: fixed;\n    top: 0;\n}\n\n.container, .search_bar, .add_card {\n    height: 100%;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n}\n\nheader > .container {\n    width: 98%;\n    margin: 0 auto;\n}\n\nheader > .container *{\n    padding: 0 5px;\n}\n\nheader > .container p {\n    color: white;\n    font-size: 18px;\n    font-weight: 700;\n    padding: 0;\n    min-width: 80px;\n}\n\nheader > .container > img {\n    height: 45px;\n    padding: 0 10px;\n    cursor: pointer;\n}\n\nheader > .container .icon {\n    height: 40px;\n    cursor: pointer;\n}\n\n\nheader .logo {\n    height: 40px;\n}\n\nheader > .container > .member {\n    height: 35px;\n    width: 35px;\n    background-size: cover;\n    margin: 0 5px 0 15px;\n    border-radius: 50%;\n}\n\nheader > .container > .add_card {\n    margin-right: auto;\n}\n\nheader > .container > .search_bar {\n    background-color: white;\n    height: 60%;\n    border-radius: 50px;\n    padding: 0;\n    padding-left: 10px;\n}\n\nheader > .container > .search_bar *{\n    padding: 0 3px;\n}\n\nheader > .container > .search_bar > input {\n    font-size: 16px;\n    max-width: 171px;\n}\n\nheader > .container > .search_bar_mobile {\n    display: none;\n}\n\n/* ----------- Header Mobile ---------- */\n@media screen and (max-width: 650px) {\n    header > .container {\n        width: 100%;\n    }\n\n    header > .container *{\n        padding: 0 5px;\n    }\n\n    header > .container img {\n        height: 40px;\n    }\n\n    header .logo {\n        margin-left: 5px;\n    }\n\n    header > .container > .member {\n        margin: 0 15px 0 0;\n    }\n\n    header > .container > .add_card > p{\n        display: none;\n    }\n\n    header > .container > .search_bar {\n        display: none;\n    }\n\n    header > .container > .search_bar_mobile {\n        display: flex;\n    }\n\n    header > .container > .search_bar_mobile > .search_bar_mobile_input {\n        z-index: 10;\n        position: fixed;\n        top: 55px;\n        left: 0;\n        width: 100vw;\n        height: 55px;\n        background-color: white;\n        box-shadow: 0 5px 5px #dbdbdb;\n        flex-flow: row;\n        align-items: center;\n        justify-content: center;\n        display: flex;\n    }\n\n    .search_bar_mobile_input > input {\n        border-bottom: 2px solid rgb(181, 228, 255);\n        font-size: 14px;\n        padding: 5px;\n        width: calc(95vw - 40px);\n        border-radius: 0;\n    }\n\n}\n\n/* ----------- Background ---------- */\n.background {\n    overflow: hidden;\n    width: 100vw;\n    height: 160px;\n    position: absolute;\n    bottom: 0;\n    overflow: hidden;\n    z-index: -1;\n}\n\n.background > .background_triangle {\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 80px 0 80px 100vw;\n    border-color: transparent transparent transparent rgb(231, 247, 255);\n}\n\n.background > .background_square {\n    height: 80px;\n    width: 100vw;\n    background-color: rgb(231, 247, 255);\n    position: absolute;\n    bottom: 0;\n}\n\n/* ---------- LoginPopup ----------- */\n.popup-overlay {\n    background: rgba(0, 0, 0,0.5);\n    display: flex;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    top: 0;\n    z-Index: 999;\n}\n\n.popup-content {\n    background: rgb(255, 255, 255);\n    border-radius: 10px;\n    margin: auto;\n    position: relative;\n    width: 290px;\n    color: white;\n}\n\n.modal {\n    font-size: 12px;\n}\n\n.modal > .header {\n    width: 100%;\n    height: 200px;\n    background-color: #7BCEFF;\n    font-size: 18px;\n    text-align: center;\n    padding: 5px;\n    border-radius: 10px 10px 0 0;\n}\n\n.modal > .header > img {\n    height: 70%;\n    width: 100%;\n    transform: rotate(-8deg);\n    padding-bottom: 10px;\n}\n  \n.modal > .content {\n    width: 100%;\n    padding: 10px 5px;\n}\n  \n.modal > .actions {\n    width: 100%;\n    padding: 10px 5px;\n    margin: auto;\n    text-align: center;\n}\n\n.modal > .actions > button {\n    width: 90%;\n    height: 40px;\n    margin: 5% auto;\n    font-size: 15px;\n    font-weight: bolder;\n    display: flex;\n    align-items: center;\n    justify-content: baseline;\n    flex-flow: row;\n    color: white;\n    border: none;\n    border-radius: 5px;\n}\n\n.modal > .actions > button:first-child {\n    background-color: #254ea6;\n}\n\n.modal > .actions > button:last-child {\n    background-color: #d84134;\n}\n\n.modal > .actions > button > img {\n    height: 100%;\n    width: 27%;\n}\n",""])},534:function(e,n,t){(n=e.exports=t(70)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Noto+Sans+TC);",""]),n.push([e.i,"/* ---------- Basic Setting ------------ */\n* {\n    box-sizing: border-box;\n    font-family: 'Noto Sans TC', sans-serif;\n}\n\nhtml,\nbody,\nheader,\nfooter,\nsection,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\na,\np,\nul,\nli,\naside,\nnav,\nimg {\n    margin: 0;\n    padding: 0;\n}\n\na {\n    text-decoration: none;\n    cursor: pointer;\n}\n\nbutton {\n    outline: none;\n    cursor: pointer;\n}\n\ninput {\n    outline: none;\n    border: none;\n    border-radius: 0;\n}\n\n#root {\n    position: relative;\n    height: 100%;\n    width: 100%;\n    min-height: calc(100vh - 85px);\n}\n\n.content {\n    width: 90%;\n    max-width: 1000px;\n    margin: 85px auto 30px auto;\n    display: flex;\n    flex-flow: row wrap;\n}\n\n/* ---------- input通用css設定 ---------- */\n.content input {\n    font-weight: 300;\n    margin: 10px 0;\n    padding: 10px 0;\n    color: #333333;\n    border-bottom: 2px solid #979797;\n}\n\n\n.content input::placeholder {\n    color: silver;\n    font-weight: 300;\n}\n\n.content input:focus {\n    border-bottom: 3px solid #FFE20E;\n}\n\n/* ---------- select通用css設定 ---------- */\n.select-box {\n    position: relative;\n    border: 2px solid rgb(235, 235, 235);\n    background-color: white;\n}\n\nselect {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    color: rgb(1, 192, 192);\n    padding: 10px;\n    padding-right: 30px;\n    outline: none;\n    border: none;\n    background-color: white;\n    font-size: 13px;\n}\n\n.arrow {\n    padding: 2px;\n    width: 30px;\n    height: 100%;\n    position: absolute;\n    right: 0;\n    top: 0;\n}",""])},535:function(e,n,t){(e.exports=t(70)(!1)).push([e.i,".collection_info {\n    width: 100%;\n    display: flex;\n    align-items: baseline;\n}\n\n.collection_info > input {\n    width: 80%;\n    font-size: 25px;\n}\n\n.collection_info select {\n    width: 95%;\n    font-size: 14px;\n}\n\n.collection_info > .select-box {\n    margin-left: auto;\n    width: 18%;\n}\n\n.content > .add-from-file {\n    width: 100%;\n    margin: 10px 0 20px 0; \n    color: #333333;\n}\n\n.content > .add-from-file > span {\n    cursor: pointer;\n}\n\n.content > .add-from-file > span:hover {\n    color: rgb(1, 192, 192);\n}\n\n.content > .card_info {\n    width: 100%;\n    display: flex;\n    flex-flow: row wrap;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.content > .card_info .select-box {\n    width: 48%;\n    margin: 0 0 20px 0;\n}\n\n.content > .card_info .select-box select {\n    width: 95%;\n    font-size: 14px;\n}\n\n.making_card {\n    width: 100%;\n    padding: 20px 0;\n    background-color: white;\n    box-shadow: 5px 5px 5px #dbdbdb;\n    border: 1px solid #dbdbdb;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: space-around;\n    margin-bottom: 20px;\n}\n\n.making_card > input {\n    font-size: 18px;\n    font-weight: 300;\n    width: 40%;\n    margin: 0 10px 0 10px;\n}\n\n.making_card > .definition {\n    font-size: 15px;\n}\n\n.making_card .delete_card,\n.making_card .add_image {\n    width: 40px;\n    height: 40px;\n    cursor: pointer;\n}\n\n.making_card .delete_card {\n    background-image: url('/image/trash.svg');\n}\n\n.making_card .delete_card:hover {\n    background-image: url('/image/trash_hover.svg');\n}\n\n.making_card .add_image {\n    background-image: url('/image/pic.svg');\n}\n\n.making_card .add_image:hover {\n    background-image: url('/image/pic_hover.svg');\n}\n\n.content > .card_info .add_card {\n    background-color: white;\n    box-shadow: 5px 5px 5px #dbdbdb;\n    border: 1px dashed #dbdbdb;\n    width: 100%;\n    height: 86px;\n    margin-bottom: 20px;\n    text-align: center;\n    cursor: pointer;\n}\n\n.content > .card_info .add_card > span {\n    margin: 0 auto;\n    color: #797979;\n    line-height: 30px;\n    border-bottom: 2px solid rgb(1, 192, 192);\n}\n\n.content > .card_info .add_card:hover > span {\n    border-bottom: 2px solid #FFE20E;\n}\n\n.content > button {\n    background-color:  rgb(1, 192, 192);\n    color: white;\n    width: 100%;\n    max-width: 180px;\n    height: 40px;\n    border: none;\n    font-size: 15px;\n    font-weight: 700;\n    margin-top: 10px;\n    margin-left: auto;\n}\n\n@media screen and (max-width: 650px) {\n    .content > .add-from-file {\n        display: none;\n    }\n\n    .collection_info > input {\n        width: 100%;\n    }\n    \n    .collection_info > .select-box {\n        width: 100%;\n    }\n\n    .content > button {\n        max-width: 100%;\n    }\n\n    .collection_info {\n        flex-flow: column;\n        margin-bottom: 20px;\n    }\n\n    .making_card {\n        flex-flow: row wrap;\n        justify-content: flex-end;\n    }\n\n    .making_card img {\n        height: 35px;\n        margin-right: 1%;\n    }\n\n    .making_card > input {\n        width: 46%;\n        margin: 2%;\n    }\n}",""])},536:function(e,n,t){(e.exports=t(70)(!1)).push([e.i,".collection {\n    width: 30%;\n    padding: 10px 20px;\n    margin: 0 10px;\n    margin-bottom: 30px;\n    background-color: white;\n    box-shadow: 5px 5px 5px #dbdbdb;\n    border: 1px solid #dbdbdb;\n    color: #333333;\n    cursor: pointer;\n}\n\n.collection:hover {\n    border-bottom: 3px solid #FF6D14;\n}\n\n.collection > h2 {\n    color: rgb(1, 192, 192);\n    border-bottom: 3px solid #FFE20E;\n    font-weight: 700;\n    margin-bottom: 10px;\n}\n\n.collection > p {\n    font-size: 12px;\n    color: #8a8a8a;\n    text-align: right;\n}\n\n.collection > .words_number {\n    font-size: 15px;\n    color: #333333;\n    margin-bottom: 10px;\n    text-align: left;\n}\n\n.white-overlay {\n    display: flex;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    top: 0;\n}\n\n.white-overlay .loading {\n    width: 60px;\n    height: 60px;\n    margin: auto;\n}\n\n.white-overlay .new_card {\n    width: 200px;\n    height: 200px;\n    background-image: url('/image/new_card.svg');\n    background-size: cover;\n    margin: auto;\n}\n\n.white-overlay .new_card:hover {\n    background-image: url('/image/new_card_hover.svg');\n}\n\n@media screen and (max-width: 800px) {\n    .collection {\n        width: 45%;\n    }\n}\n\n@media screen and (max-width: 650px) {\n    .collection {\n        width: 100%;\n    }\n}",""])},537:function(e,n,t){(e.exports=t(70)(!1)).push([e.i,"\n.content .arrows {\n    width: 100%;\n    display: flex;\n    margin: 20px 0;\n    justify-content: center;\n}\n\n.left-arrow {\n    background-image: url('/image/left.svg');\n}\n\n.left-arrow:hover {\n    background-image: url('/image/left_hover.svg');\n}\n\n.right-arrow {\n    background-image: url('/image/right.svg');\n}\n\n.right-arrow:hover {\n    background-image: url('/image/right_hover.svg');\n}\n\n.left-arrow, .right-arrow {\n    border: 1px solid silver;\n    border-radius: 50%;\n    background-size: cover;\n    background-color: white;\n    cursor: pointer;\n    height: 40px;\n    width: 40px;\n    margin: 0 30px;\n}\n\n.content .cards_content {\n    overflow: hidden;\n    width: 100%;\n    margin: 0 auto;\n}\n\n.content .paging {\n    font-size: 20px;\n    color: silver;\n    position: absolute;\n    top: 10px;\n    left: 20px;\n}\n\n.content .show_card {\n    border: 1px solid silver;\n    width: 100%;\n    max-width: 500px;\n    height: 350px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: white;\n    cursor: pointer;\n    position: relative;\n    margin:auto;\n}\n\n.deletecheck-popup {\n    background: rgb(255, 255, 255);\n    border-radius: 10px;\n    margin: auto;\n    position: relative;\n    width: 290px;\n    height: 150px;\n    color: #333333;\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: center;\n    align-items: center;\n    padding: 10px 20px;\n    font-size: 18px;\n    box-shadow: 0 0 10px;\n    overflow: hidden;\n}\n\n.deletecheck-popup button {\n    width: 30%;\n    margin: 10px 10% 0 10%;\n    padding: 3px;\n    background-color: white;\n    border-radius: 3px;\n    border: none;\n    font-size: 15px;\n    color: white;\n    font-weight: 700;\n    z-index: 5;\n}\n\n.deletecheck-popup > .cancel {\n    background-color: rgb(1, 192, 192);\n}\n\n.deletecheck-popup > .confirm {\n    background-color: #E02D2D;\n}\n\n.deletecheck-popup-background {\n    width: 0;\n    height: 0;\n    border-style: solid;\n    border-width: 90px 0 0 100vw;\n    border-color: transparent transparent transparent rgb(231, 247, 255);\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    z-index: 2;\n}\n\n.wrap {\n    width: 100%;\n    position: relative;\n}\n\n.features {\n    margin: 0 auto;\n    display: flex;\n    flex-flow: column;\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n\n.content .feature_block {\n    width: 100px;\n    height: 100px;\n    border-bottom: 3px solid rgb(1, 192, 192);\n    box-shadow: 0 0 5px silver;\n    margin-bottom: 20px;\n    cursor: pointer;\n    display: flex;\n    flex-flow: column;\n    align-items: center;\n    color: #5f5f5f;\n    background-color: white;\n}\n\n.content .feature_block:hover {\n    border-bottom: 5px solid #FFE20E;\n}\n\n.feature_block .block_img {\n    width: 65px;\n    height: 65px;\n    background-size: cover;\n    font-size: 0;\n}\n\n.feature_block .edit_collection {\n    background-image: url('/image/edit.svg');\n}\n\n.feature_block:hover .edit_collection {\n    background-image: url('/image/edit_hover.svg');\n}\n\n.feature_block .delete_collection {\n    background-image: url('/image/trash.svg');\n}\n\n.feature_block:hover .delete_collection {\n    background-image: url('/image/trash_hover.svg');\n}\n\n@media screen and (max-width: 850px) {\n    .content .wrap {\n        display: flex;\n        flex-flow: column;\n    }\n\n    .features {\n        position: relative;\n        order: 2;\n        flex-flow: row wrap;\n    }\n\n    .feature_block {\n        margin: 10px;\n    }\n}\n\n@media screen and (max-width: 550px) {\n    .content .show_card {\n        height: 50vh;\n        max-height: 300px;\n    }  \n}\n\n.content .show_card p {\n    font-size: 30px;\n    color: #333333;\n}\n\n.content .show_card_hover {\n    background-color: rgba(71, 71, 71, 0.322);\n    color: white;\n    width: 100%;\n    height: 40px;\n    line-height: 40px;\n    text-align: right;\n    padding-right: 10px;\n    position: absolute;\n    bottom: 0;\n    visibility: hidden;\n}\n\n.content .show_card:hover .show_card_hover {\n    visibility: visible;\n}\n\n.white-overlay-cover {\n    display: flex;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    top: 0;\n    background-color: white;\n    z-index: 5;\n}\n\n.white-overlay-cover .loading {\n    width: 60px;\n    height: 60px;\n    margin: auto;\n}\n\n/* ---------- animation ---------- */\n.open {\n    animation-name: flipInX;\n    animation-duration: .5s;\n}\n\n@keyframes flipInX {\n    from {\n        transform: perspective(600px) rotate3d(1, 0, 0, 90deg);\n        animation-timing-function: ease-in;\n        opacity: 0;\n    }\n\n    40% {\n        transform: perspective(600px) rotate3d(1, 0, 0, -3deg);\n        animation-timing-function: ease-in;\n    }\n\n    60% {\n        transform: perspective(600px) rotate3d(1, 0, 0, 3deg);\n        opacity: 1;\n    }\n\n    80% {\n        transform: perspective(600px) rotate3d(1, 0, 0, 0deg);\n    }\n\n    to {\n        transform: perspective(600px);\n    }\n}\n\n.ease {\n    animation-name: ease-in-out;\n    animation-duration: .25s;\n}\n\n@keyframes ease-in-out {\n    from {\n        animation-timing-function: ease-in;\n        opacity: 0;\n    }\n\n    60% {\n        opacity: 0.5;\n    }\n\n    to {\n        opacity: 1;\n    }\n}",""])},540:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),i=t(259),a=t.n(i),c=t(21),l=t(44),s=t(17),u=t(14),p=t(261),d=t(262),f="LOGIN_TO_WEB";function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var m={loginState:{login:!0,user_name:"Amy Huang",user_id:"62aZObMlvFX35VJ8t8Vg1BfLedi1",user_photo:"https://graph.facebook.com/2213110725441835/picture"}};var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){h(e,n,t[n])})}return e}({},e,{loginState:{login:!0,user_name:n.user.displayName,user_id:n.user.uid,user_photo:n.user.photoURL}});default:return e}},b="SEARCH_BAR_TOGGLE";function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var w={mobileSearchBarOpen:!1};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;switch((arguments.length>1?arguments[1]:void 0).type){case b:return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){y(e,n,t[n])})}return e}({},e,{mobileSearchBarOpen:!e.mobileSearchBarOpen});default:return e}};function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){_(e,n,t[n])})}return e}function _(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var k="ADD_NEW_COLLECTION";var E="UPDATE_COLLECTION";var O="DELETE_COLLECTION";var C="ALREADY_HAD_COLLECTION";var S="GET_COLLECTION";function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){N(e,n,t[n])})}return e}function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var P={collectionEmpty:!0,getCollection:!1,collection:{user_id:"",author:"",title:"",timestamp:"",important:!1,public:!0,word_lan:"",definition_lan:""}};var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case k:case E:return console.log(n.collection),e;case O:return console.log("delete collection successful"),e;case C:return j({},e,{collectionEmpty:n.status});case S:return j({},e,{getCollection:!0});default:return e}},L=t(71),z=t(20),I=Object(u.combineReducers)({mobileSearchBar:v,login:g,collection:T,firestore:L.firestoreReducer,firebase:z.firebaseReducer}),F=t(168),B=t.n(F);t(521),t(523);B.a.initializeApp({apiKey:"AIzaSyAgHnQn9hkMJvGRwuHEIwAdjLxMFTIWF_o",authDomain:"soy-transducer-236303.firebaseapp.com",databaseURL:"https://soy-transducer-236303.firebaseio.com",projectId:"soy-transducer-236303",storageBucket:"soy-transducer-236303.appspot.com",messagingSenderId:"890374072270"});var H=B.a;function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,n){return(W=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var G=function(e){function n(e){var t,o,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(r=R(n).call(this,e))||"object"!==A(r)&&"function"!=typeof r?M(o):r).openSearchBarToggle=t.openSearchBarToggle.bind(M(t)),t}var t,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&W(e,n)}(n,r.a.Component),t=n,(o=[{key:"openSearchBarToggle",value:function(e){this.props.searchBarOpen()}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement(c.b,{to:"/",exact:!0,style:{padding:0}},r.a.createElement("img",{src:"../../image/Logo.svg",className:"logo"})),r.a.createElement(c.b,{to:"/MakingCards/new",exact:!0,className:"add_card"},r.a.createElement("img",{className:"add_card icon",src:"../../image/add card.svg"}),r.a.createElement("p",null,"建立字卡")),this.props.children,r.a.createElement("form",{className:"search_bar"},r.a.createElement("input",{className:"search_input"}),r.a.createElement("img",{className:"search_btn icon",src:"../../image/search.svg"})),r.a.createElement("div",{className:"search_bar_mobile"},r.a.createElement("img",{className:"search_btn_top icon",src:"../../image/search_mobile.svg",onClick:this.openSearchBarToggle,style:{display:this.props.searchBarToggle?"none":"block"}}),r.a.createElement("img",{className:"search_btn_top icon",src:"../../image/close.svg",onClick:this.openSearchBarToggle,style:{display:this.props.searchBarToggle?"flex":"none"}}),r.a.createElement("form",{className:"search_bar_mobile_input",style:{display:this.props.searchBarToggle?"flex":"none"}},r.a.createElement("input",{className:"search_input"}),r.a.createElement("img",{className:"search_btn_down icon",src:"../../image/search.svg"}))),r.a.createElement("div",{className:"member icon",style:{backgroundImage:this.props.loginState.login?"url(".concat(this.props.loginState.user_photo,")"):"url('../../image/user.svg')"}})))}}])&&D(t.prototype,o),i&&D(t,i),n}(),J=Object(s.b)(function(e){return{searchBarToggle:e.mobileSearchBar.mobileSearchBarOpen,loginState:e.login.loginState}},function(e){return{searchBarOpen:function(){e({type:b})}}})(G);var U=function(e){return r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"background_triangle"}),r.a.createElement("div",{className:"background_square"}))};function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,n){return(K=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Q=function(e){function n(e){var t,o,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(r=V(n).call(this,e))||"object"!==X(r)&&"function"!=typeof r?Y(o):r).login=t.login.bind(Y(t)),t}var t,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&K(e,n)}(n,r.a.Component),t=n,(o=[{key:"login",value:function(e){var n;n="使用 Facebook 登入"===e.target.textContent?"facebook":"google",this.props.login_reducer(n)}},{key:"render",value:function(){return r.a.createElement("div",{className:"popup-overlay",style:{display:this.props.loginState.login?"none":"flex"}},r.a.createElement("div",{className:"popup-content"},r.a.createElement("div",{className:"modal"},r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:"../../image/Logo.svg"}),"馬上登入建立字卡學習"),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"button",onClick:this.login},r.a.createElement("img",{src:"../../image/facebook.svg"}),"使用 Facebook 登入"),r.a.createElement("button",{className:"button",onClick:this.login},r.a.createElement("img",{src:"../../image/google.svg"}),"使用 Google 登入")))))}}])&&q(t.prototype,o),i&&q(t,i),n}(),Z=Object(s.b)(function(e){return{loginState:e.login.loginState}},function(e){return{login_reducer:function(n){e(function(e){return function(n,t,o){var r=(0,o.getFirebase)();e="facebook"===e?new r.auth.FacebookAuthProvider:new r.auth.GoogleAuthProvider,r.auth().signInWithPopup(e).then(function(e){var t=e.user;n({type:f,user:t})}).catch(function(e){console.log(e)})}}(n))}}})(Q);var $=function(e){return r.a.createElement(c.b,{to:"/Collection/"+e.id,className:"collection"},r.a.createElement("h2",null,e.title),r.a.createElement("p",{className:"words_number"},"詞語：",e.contentLength,"個"),r.a.createElement("p",null,"語言：",e.wordLan,"／",e.defLan),r.a.createElement("p",null,"作者：",e.author),r.a.createElement("p",null,e.time))};function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function te(e,n){return!n||"object"!==ee(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function re(e,n){return(re=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var ie=function(e){function n(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),te(this,oe(n).call(this,e))}var t,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&re(e,n)}(n,r.a.Component),t=n,(o=[{key:"componentWillReceiveProps",value:function(){this.props.getCollection()}},{key:"render",value:function(){var e=this.props.login.user_id,n=this.props.collectionInfo;return void 0!==n&&(0===(n=n.filter(function(n){return n.user_id===e})).length?this.props.alreadyHadCollection(!1):this.props.alreadyHadCollection(!0)),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"white-overlay",style:{display:this.props.getData?"none":"flex"}},r.a.createElement("img",{className:"loading",src:"../../image/loading.gif"})),r.a.createElement("div",{className:"white-overlay",style:{display:this.props.hadCollection?"none":"flex"}},r.a.createElement(c.b,{to:"/MakingCards/new",className:"new_card",exact:!0})),n&&n.map(function(e,n){return r.a.createElement($,{key:n,label:n,title:e.title,contentLength:e.content.length,wordLan:e.word_lan,defLan:e.definition_lan,author:e.author,time:e.timestamp,id:e.id})}))}}])&&ne(t.prototype,o),i&&ne(t,i),n}(),ae=Object(u.compose)(Object(s.b)(function(e){return{hadCollection:e.collection.collectionEmpty,getData:e.collection.getCollection,collectionInfo:e.firestore.ordered.collection,login:e.login.loginState}},function(e){return{alreadyHadCollection:function(n){e(function(e){return{type:C,status:e}}(n))},getCollection:function(){e({type:S})}}}),Object(z.firestoreConnect)([{collection:"collection"}]))(ie);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,n){return(pe=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var de=function(e){function n(e){var t,o,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(r=se(n).call(this,e))||"object"!==ce(r)&&"function"!=typeof r?ue(o):r).state={showing:t.props.word,open:""},t.flipCard=t.flipCard.bind(ue(t)),t}var t,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&pe(e,n)}(n,r.a.Component),t=n,(o=[{key:"flipCard",value:function(e){var n=this;this.state.showing===this.props.word?this.setState({showing:this.props.definition}):this.setState({showing:this.props.word}),this.setState({open:"open"}),setTimeout(function(){n.setState({open:""})},500)}},{key:"componentWillReceiveProps",value:function(e){this.setState({showing:e.word})}},{key:"render",value:function(){return r.a.createElement("div",{className:"show_card ".concat(this.state.open," ").concat(this.props.nextAnimation),onClick:this.flipCard},r.a.createElement("p",null,this.state.showing),r.a.createElement("div",{className:"paging"},this.props.currentIndex+1,"/",this.props.length),r.a.createElement("div",{className:"show_card_hover"},"熟悉程度：0% (透過考試增加熟悉程度)"))}}])&&le(t.prototype,o),i&&le(t,i),n}();function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e,n){return(be=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var ye=function(e){function n(e){var t,o,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(r=me(n).call(this,e))||"object"!==fe(r)&&"function"!=typeof r?ge(o):r).state={currentIndex:0,nextAnimation:"",deleteState:!1,deleteCheck:!1},t.changeCard=t.changeCard.bind(ge(t)),t.deleteCheckHandler=t.deleteCheckHandler.bind(ge(t)),t.deleteCollection=t.deleteCollection.bind(ge(t)),t}var t,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&be(e,n)}(n,r.a.Component),t=n,(o=[{key:"changeCard",value:function(e){var n=this,t=this.state.currentIndex;"前一個"===e.target.title?t-=1:t+=1,t<this.props.collection.content.length&&t>=0&&(this.setState({currentIndex:t,nextAnimation:"ease"}),setTimeout(function(){n.setState({nextAnimation:""})},500))}},{key:"deleteCheckHandler",value:function(e){"刪除"===e.target.textContent?this.setState({deleteCheck:!0}):this.setState({deleteCheck:!1})}},{key:"deleteCollection",value:function(e){this.setState({deleteState:!0,deleteCheck:!1});var n=this.props.match.params.id;this.props.deleteCollection(n)}},{key:"render",value:function(){var e,n=this,t=this.state.currentIndex;return null!==this.props.collection&&(e=[this.props.collection.content[t]]),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"white-overlay-cover",style:{display:this.state.deleteState?"flex":"none"}},r.a.createElement("img",{className:"loading",src:"../../image/loading.gif"})),r.a.createElement("div",{className:"popup-overlay",style:{display:this.state.deleteCheck?"flex":"none"}},r.a.createElement("div",{className:"deletecheck-popup"},"確定要刪除此字卡集嗎？",r.a.createElement("button",{className:"cancel",onClick:this.deleteCheckHandler},"取消"),r.a.createElement("button",{className:"confirm",onClick:this.deleteCollection},"確定"),r.a.createElement("div",{className:"deletecheck-popup-background"}))),r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"features"},r.a.createElement(c.b,{className:"feature_block",to:"/MakingCards/"+this.props.match.params.id},r.a.createElement("div",{className:"edit_collection block_img"}),r.a.createElement("div",null,"編輯")),r.a.createElement("div",{className:"feature_block",onClick:this.deleteCheckHandler},r.a.createElement("div",{className:"delete_collection block_img"},"刪除"),r.a.createElement("div",null,"刪除"))),r.a.createElement("div",{className:"cards_content"},this.props.collection&&e.map(function(e,o){return r.a.createElement(de,{key:o,label:o,word:e.word,definition:e.definition,currentIndex:t,length:n.props.collection.content.length,nextAnimation:n.state.nextAnimation})}),r.a.createElement("div",{className:"arrows"},r.a.createElement("div",{className:"left-arrow",onClick:this.changeCard,title:"前一個"}),r.a.createElement("div",{className:"right-arrow",onClick:this.changeCard,title:"下一個"})))))}}])&&he(t.prototype,o),i&&he(t,i),n}(),we=Object(u.compose)(Object(s.b)(function(e,n){var t=n.match.params.id,o=e.firestore.data.collection;return{collection:o?o[t]:null}},function(e){return{deleteCollection:function(n){e(function(e){return function(n,t,o){o.getFirebase,(0,o.getFirestore)().collection("collection").doc(e).delete().then(function(){n({type:O}),window.location.href="/"}).catch(function(e){console.log(e)})}}(n))}}}),Object(z.firestoreConnect)([{collection:"collection"}]))(ye);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,n){return(Ee=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Oe=function(e){function n(e){var t,o,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(r=_e(n).call(this,e))||"object"!==ve(r)&&"function"!=typeof r?ke(o):r).deleteHandler=t.deleteHandler.bind(ke(t)),t.wordInputHandler=t.wordInputHandler.bind(ke(t)),t.defInputHandler=t.defInputHandler.bind(ke(t)),t}var t,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Ee(e,n)}(n,r.a.Component),t=n,(o=[{key:"wordInputHandler",value:function(e){this.props.wordChange(this.props,e.target.value)}},{key:"defInputHandler",value:function(e){this.props.definitionChange(this.props,e.target.value)}},{key:"deleteHandler",value:function(e){this.props.deleteCard(this.props)}},{key:"render",value:function(){return r.a.createElement("div",{className:"making_card"},r.a.createElement("input",{placeholder:"詞語",onChange:this.wordInputHandler,value:this.props.word,style:{borderBottom:this.props.empty}}),r.a.createElement("input",{placeholder:"定義",onChange:this.defInputHandler,value:this.props.definition,style:{borderBottom:this.props.empty}}),r.a.createElement("div",{className:"add_image"}),r.a.createElement("div",{onClick:this.deleteHandler,className:"delete_card"}))}}])&&xe(t.prototype,o),i&&xe(t,i),n}();function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function je(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},o=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.forEach(function(n){Ne(e,n,t[n])})}return e}function Ne(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Pe(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e,n){return(ze=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Ie=function(e){function n(e){var t,o,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(r=Te(n).call(this,e))||"object"!==Ce(r)&&"function"!=typeof r?Le(o):r).state={collection:{title:"",public:!0,word_lan:"英文",definition_lan:"英文",user_id:e.login.user_id,author:e.login.user_name,content:[{word:"",definition:"",correct_times:0,wrong_times:0,highlight:!1,picture:"",empty:""},{word:"",definition:"",correct_times:0,wrong_times:0,highlight:!1,picture:"",empty:""}]},borderBottom:""},t.changeTitle=t.changeTitle.bind(Le(t)),t.changePublicState=t.changePublicState.bind(Le(t)),t.changeWordLan=t.changeWordLan.bind(Le(t)),t.changeDefinitionLan=t.changeDefinitionLan.bind(Le(t)),t.wordChange=t.wordChange.bind(Le(t)),t.definitionChange=t.definitionChange.bind(Le(t)),t.addNewCard=t.addNewCard.bind(Le(t)),t.deleteCard=t.deleteCard.bind(Le(t)),t.submitCollection=t.submitCollection.bind(Le(t)),t}var t,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ze(e,n)}(n,r.a.Component),t=n,(o=[{key:"changeTitle",value:function(e){this.setState({collection:je({},this.state.collection,{title:e.target.value}),borderBottom:""})}},{key:"changePublicState",value:function(e){"open"===e.target.value?this.setState({collection:je({},this.state.collection,{public:!0})}):this.setState({collection:je({},this.state.collection,{public:!1})})}},{key:"changeWordLan",value:function(e){this.setState({collection:je({},this.state.collection,{word_lan:e.target.value})})}},{key:"changeDefinitionLan",value:function(e){this.setState({collection:je({},this.state.collection,{definition_lan:e.target.value})})}},{key:"wordChange",value:function(e,n,t){var o=this.state.collection.content.slice();o[e.label].word=n,""!==o[e.label].empty&&(o[e.label].empty=""),this.setState({collection:je({},this.state.collection,{content:o})})}},{key:"definitionChange",value:function(e,n,t){var o=this.state.collection.content.slice();o[e.label].definition=n,""!==o[e.label].empty&&(o[e.label].empty=""),this.setState({collection:je({},this.state.collection,{content:o})})}},{key:"addNewCard",value:function(e){this.state.collection.content.length>100?alert("一個字卡集最多只能放置100個字"):this.setState({collection:je({},this.state.collection,{content:[].concat(Se(this.state.collection.content),[{word:"",definition:"",correct_times:0,wrong_times:0,highlight:!1,picture:"",empty:""}])})})}},{key:"deleteCard",value:function(e,n){var t=this.state.collection.content.slice();t.splice(e.label,1),t.length>=2&&this.setState({collection:je({},this.state.collection,{content:t})})}},{key:"submitCollection",value:function(e){for(var n=this.state.collection.content.slice(),t=!1,o=0;o<n.length;o++)""!==n[o].word&&""!==n[o].definition||(n[o].empty="3px solid red",t=!0);if(this.setState({collection:je({},this.state.collection,{content:n})}),""===this.state.collection.title)this.setState({borderBottom:"3px solid red"});else{if(t)return;if("建立"===e.target.textContent)this.props.addNewCollection(this.state.collection);else if("更新"===e.target.textContent){var r=this.props.match.params.id;this.props.updateCollection(this.state.collection,r)}}}},{key:"componentDidMount",value:function(){"new"!==this.props.match.params.id&&this.setState({collection:this.props.editCollection})}},{key:"componentWillReceiveProps",value:function(e){"new"===e.match.params.id&&this.setState({collection:{title:"",public:!0,word_lan:"英文",definition_lan:"英文",content:[{word:"",definition:"",correct_times:0,wrong_times:0,highlight:!1,picture:"",empty:""},{word:"",definition:"",correct_times:0,wrong_times:0,highlight:!1,picture:"",empty:""}]}})}},{key:"render",value:function(){var e,n=this;e="new"===this.props.match.params.id;var t=this.state.collection.public;return t=t?"open":"close",r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"collection_info"},r.a.createElement("input",{placeholder:"字卡集標題",onChange:this.changeTitle,style:{borderBottom:this.state.borderBottom},value:this.state.collection.title}),r.a.createElement("div",{className:"select-box"},r.a.createElement("select",{onChange:this.changePublicState,value:t},r.a.createElement("option",{value:"open"},"公開"),r.a.createElement("option",{value:"close"},"不公開")),r.a.createElement("img",{className:"arrow",src:"../../image/arrow.svg"}))),r.a.createElement("div",{className:"add-from-file"},r.a.createElement("span",null," + 從檔案匯入")),r.a.createElement("div",{className:"card_info"},r.a.createElement("div",{className:"select-box"},r.a.createElement("select",{onChange:this.changeWordLan,value:this.state.collection.word_lan},r.a.createElement("option",{value:"英文"},"英文"),r.a.createElement("option",{value:"中文"},"中文")),r.a.createElement("img",{className:"arrow",src:"../../image/arrow.svg"})),r.a.createElement("div",{className:"select-box"},r.a.createElement("select",{onChange:this.changeDefinitionLan,value:this.state.collection.definition_lan},r.a.createElement("option",{value:"英文"},"英文"),r.a.createElement("option",{value:"中文"},"中文")),r.a.createElement("img",{className:"arrow",src:"../../image/arrow.svg"})),this.state.collection.content.map(function(e,t){return r.a.createElement(Oe,{key:t,label:t,word:e.word,definition:e.definition,wordChange:n.wordChange,definitionChange:n.definitionChange,deleteCard:n.deleteCard,empty:e.empty})}),r.a.createElement("div",{className:"add_card",onClick:this.addNewCard},r.a.createElement("span",null," + 新增單詞卡"))),r.a.createElement("button",{onClick:this.submitCollection,style:{display:e?"block":"none"}},"建立"),r.a.createElement("button",{onClick:this.submitCollection,style:{display:e?"none":"block"}},"更新"))}}])&&Pe(t.prototype,o),i&&Pe(t,i),n}(),Fe=Object(u.compose)(Object(s.b)(function(e,n){var t=n.match.params.id,o=e.firestore.data.collection;return{editCollection:o?o[t]:null,login:e.login.loginState}},function(e){return{addNewCollection:function(n){e(function(e){return function(n,t,o){o.getFirebase;var r,i,a=o.getFirestore,c=new Date;r=c.getHours()<10?"0".concat(c.getHours()):c.getHours(),i=c.getMinutes()<10?"0".concat(c.getMinutes()):c.getMinutes();var l=c.getFullYear()+"/"+(c.getMonth()+1)+"/"+c.getDate()+" "+r+":"+i;a().collection("collection").add(x({},e,{important:!1,timestamp:l})).then(function(){n({type:k,collection:e}),window.location.href="/"}).catch(function(e){console.log(e)})}}(n))},updateCollection:function(n,t){e(function(e,n){return function(t,o,r){r.getFirebase,(0,r.getFirestore)().collection("collection").doc(n).set(x({},e)).then(function(){t({type:E,collection:e}),window.location.href="/"}).catch(function(e){console.log(e)})}}(n,t))}}}),Object(z.firestoreConnect)([{collection:"collection"}]))(Ie);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ae(e,n){return!n||"object"!==Be(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,n){return(Re=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var Me=Object(u.createStore)(I,Object(p.composeWithDevTools)(Object(u.applyMiddleware)(d.a.withExtraArgument({getFirebase:z.getFirebase,getFirestore:L.getFirestore})),Object(L.reduxFirestore)(H),Object(z.reactReduxFirebase)(H))),We=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),Ae(this,De(n).apply(this,arguments))}var t,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Re(e,n)}(n,r.a.Component),t=n,(o=[{key:"render",value:function(){return r.a.createElement(s.a,{store:Me},r.a.createElement(c.a,null,r.a.createElement(J,null),r.a.createElement(U,null),r.a.createElement(l.a,{path:"/",exact:!0,render:function(){return r.a.createElement("div",null,r.a.createElement(Z,null),r.a.createElement(ae,null))}}),r.a.createElement(l.a,{path:"/Collection/:id",exact:!0,component:we}),r.a.createElement(l.a,{path:"/MakingCards/:id",exact:!0,component:Fe})))}}])&&He(t.prototype,o),i&&He(t,i),n}();window.addEventListener("load",function(){a.a.render(r.a.createElement(We,null),document.getElementById("root"))})}});